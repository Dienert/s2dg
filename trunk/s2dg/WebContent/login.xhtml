<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:s="http://jboss.com/products/seam/taglib"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich"
    template="layout/template.xhtml"
    xmlns:a4j="http://richfaces.org/a4j"
    xmlns:m="http://jboss.com/products/seam/mail">

	<style>
        .setBold {
            font-weight: bold;
        }
    </style>
    
	<ui:define name="body">
		<h:form id="login">
			<center><rich:panel style="width:400px;">
				<f:facet name="header">Login</f:facet>

				<p>Por favor, fa√ßa login aqui.</p>

				<div class="dialog"><h:panelGrid columns="2" rowClasses="prop"
					columnClasses="name,value">
					<h:outputLabel for="username">CPF</h:outputLabel>
					<h:inputText id="username" value="#{credentials.username}" />
					<h:outputLabel for="password">Senha</h:outputLabel>
					<h:inputSecret id="password" value="#{credentials.password}" />
					<h:outputLabel for="rememberMe">Lembrar-me</h:outputLabel>
					<h:selectBooleanCheckbox id="rememberMe"
						value="#{identity.rememberMe}" />
				</h:panelGrid></div>
				<div class="actionButtons"><h:commandButton value="Login"
					action="#{identity.login}" /></div>
					
				<a4j:commandLink reRender="Erro">
                	<h:outputText value="Esqueci minha senha" /> 
            	</a4j:commandLink>
            	<br/>
            	<!-- <h:panelGroup id="Erro">
        			<h:outputText value="Uma nova senha sera enviada para o seu email!" 
        						  rendered="#{not empty credentials.username}" 
        						  styleClass="setBold"/>
        			
        			<m:message xmlns="http://www.w3.org/1999/xhtml"
					    xmlns:m="http://jboss.com/products/seam/mail">
					  
					    <m:from name="Peter" address="jc.ufpb@gmail.com" />
					    <m:to name="Julio Cesar">#{fachada.getEmail(credentials.username)}</m:to>
					    <m:subject>Testando</m:subject>
					    
					    <m:body>
					        <p><h:outputText value="Dear Julio" />,</p>
					        <p>Testando </p>
					        <p>Julio</p>
					        <p>Ferreira</p>
					    </m:body>
					    
					</m:message>
    			</h:panelGroup>
    			 -->
				
			</rich:panel></center>
		</h:form>

	</ui:define>
</ui:composition>
