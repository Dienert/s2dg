<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:s="http://jboss.com/products/seam/taglib">


<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>S2DG - Universidade Federal da Paraíba</title>
<link rel="shortcut icon" href="#{request.contextPath}/favicon.ico" />
<link rel="stylesheet" href="stylesheet/theme.css" type="text/css" />
<ui:insert name="head" />
</head>

<body>
<f:view>
	<ui:include src="/layout/topo.xhtml" />

	<rich:tabPanel switchType="server">
		<rich:tab label="Área do Docente"
			rendered="#{identity.hasRole('professor')}">
			<table width="100%">
				<tr>
					<td width="200px" valign="top">
					<div class="menu"><ui:include src="menu_docente.xhtml">
						<ui:param name="projectName" value="ufpb" />
					</ui:include></div>
					</td>
					<td valign="top" height="100%">

					<div><rich:tabPanel switchType="client">
						<rich:tab label="Principal" >
						<rich:panel id="docente_mutavel">
							<h:outputText value="Disciplina: #{fachada.turmaAtual.disciplina.codigo} - #{fachada.turmaAtual.disciplina.nome}" /><br/>
							<h:outputText value="Turma #{fachada.turmaAtual.numero}" /><br/>
						<h:form>
							<rich:dataTable var="alunoTurma"
								value="#{fachada.alunoTurmas}">
								<rich:column styleClass="action">
									<f:facet name="header">Matrícula</f:facet>
									<h:outputText value="#{alunoTurma.aluno.matricula}" />
								</rich:column>
								<rich:column styleClass="action">
									<f:facet name="header">Aluno</f:facet>
									<h:outputText value="#{alunoTurma.aluno.usuario.nome}" />
								</rich:column>
								<rich:column styleClass="action">
									<f:facet name="header">Número de Faltas</f:facet>
									<h:inputText value="#{alunoTurma.faltas}"/>	
									</rich:column>
								<rich:column styleClass="action">
									<f:facet name="header">Média Final</f:facet>
									<h:inputText value="#{alunoTurma.media}"/>
								</rich:column>
							</rich:dataTable>
							<a4j:commandButton type="submit" value="Salvar" action="#{fachada.persisteAlunoTurmas}" reRender="docente_mutavel" />
							</h:form>
						</rich:panel>
						</rich:tab>
						<rich:tab label="Cronograma de Aulas">
							<table>
								<tr>
									<td>[CRONOGRAMA DE AULAS]</td>
								</tr>
							</table>
						</rich:tab>
						<rich:tab label="Plano de Curso">
							<table>
								<tr>
									<td>[PLANO DE CURSO]</td>
								</tr>
							</table>
						</rich:tab>
					</rich:tabPanel></div>



					</td>
				</tr>
			</table>
		</rich:tab>




		<rich:tab label="Área do Discente"
			rendered="#{identity.hasRole('aluno')}">

			<table width="100%">
				<tr>
					<td width="200px" valign="top">
					<div class="menu"><ui:include src="menu_discente.xhtml">
						<ui:param name="projectName" value="ufpb" />
					</ui:include></div>
					</td>
					<td valign="top" height="100%">

					<div><rich:tabPanel switchType="client">
						<rich:tab label="Principal" >
							<rich:panel  id="discente_mutavel">
							<h:outputText value="Disciplina: #{fachada.alunoTurmaAtual.turma.disciplina.codigo} - #{fachada.alunoTurmaAtual.turma.disciplina.nome}" /><br/>
							<h:outputText value="Turma #{fachada.alunoTurmaAtual.turma.numero}" /><br/>
							<h:outputText value="Professor: #{fachada.nomeDoProfessorAtual}" /><br/>
							<h:outputText value="Número de Faltas: #{fachada.alunoTurmaAtual.faltas}" /><br/>
							<h:outputText value="Média Final: #{fachada.alunoTurmaAtual.media}" />
							</rich:panel>
						</rich:tab>
						<rich:tab label="Plano de Curso">
							<table>
								<tr>
									<td>[PLANO DE CURSO]</td>
								</tr>
							</table>
						</rich:tab>
					</rich:tabPanel></div>

					</td>
				</tr>
			</table>
		</rich:tab>

	</rich:tabPanel>
	<ui:insert name="body" />
</f:view>
</body>

</html>

