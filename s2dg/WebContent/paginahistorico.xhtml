<?xml version="1.0" encoding="UTF-8"?>

<ui:composition 
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:a4j="http://richfaces.org/a4j">

	<rich:panel>
		<f:facet name="header">Historico Escolar</f:facet>
	
					
					<rich:dataTable>
					<f:facet name="header">
						<rich:columnGroup>
							<rich:column style="vertical-align: middle; text-align: center" >
    							<h:outputText value="ALUNO" />
    						</rich:column>
						</rich:columnGroup>
					</f:facet>
					</rich:dataTable>
					<h:outputText value="ALUNO: #{fachada.aluno.matricula}--#{fachada.usuario.nome}" />	  
					<br/>
					<h:outputText value="CURSO: #{fachada.aluno.curriculo.curso.codigo}--#{fachada.aluno.curriculo.curso.nome}  " />
					<h:outputText value="CURRICULO: #{fachada.aluno.curriculo.numero}" />
					<br/>
					<h:outputText value="RECONHECIMENTO: #{fachada.aluno.curriculo.curso.cur_ato_criacao}   RG: #{fachada.usuario.rg}   " />
					<br/><br/><br/>
					<rich:dataTable width="700" border="0" var="alunoTurma" 
    value="#{turmasMatriculadasBean.getDisciplinasOrdenadas(alunoDAO.getAlunos(usuarioBean.usuario.aluno.matricula))}" cellpadding="0" cellspacing="0" >
    	<f:facet name="header">
    		<rich:columnGroup >
    			<rich:column colspan="7">
                	<h:outputText value="Disciplinas Obrigatorias" />
                </rich:column>
	            <rich:column breakBefore="true">
	                <h:outputText value="Codigo" />
	            </rich:column>
	            <rich:column>
	                <h:outputText value="Disciplina" />
	            </rich:column>
	            <rich:column>
	                <h:outputText value="CR" />
	            </rich:column>
	           	<rich:column>
	                <h:outputText value="CH" />
	            </rich:column>
	            <rich:column>
	                <h:outputText value="Periodo" />
	            </rich:column>
	            <rich:column>
	                <h:outputText value="Media" />
	            </rich:column>
	            <rich:column>
	                <h:outputText value="Situacao" />
	            </rich:column>
    		</rich:columnGroup>
    	</f:facet>
    	<rich:column  style="vertical-align: middle; text-align: center" >
    		<h:outputText value="#{alunoTurma.turma.disciplina.codigo}" />
    	</rich:column>
    	<rich:column style="vertical-align: middle; text-align: center" >
    		<h:outputText value="#{alunoTurma.turma.disciplina.nome}" />
    	</rich:column>
    	<rich:column style="vertical-align: middle; text-align: center" >
    		<h:outputText value="#{alunoTurma.turma.disciplina.creditos}" />
    	</rich:column>
    	<rich:column style="vertical-align: middle; text-align: center" >
    		<h:outputText value="#{turmasMatriculadasBean.cargaHoraria(alunoTurma.turma.disciplina.creditos)}"/>
    	</rich:column>
    	<rich:column style="vertical-align: middle; text-align: center" >
    		<h:outputText value="#{alunoTurma.turma.periodo.ano} #{alunoTurma.turma.periodo.semestre}" />
    	</rich:column>
    	<rich:column style="vertical-align: middle; text-align: center" >
	    		<h:outputText value="#{turmasMatriculadasBean.geraMedia(alunoTurma)}"/> <br/>	    	
    	</rich:column>
    	<rich:column  style="vertical-align: middle; text-align: center" >
    			<h:outputText value="#{alunoTurma.situacao} "/> <br/>
    	</rich:column>
    	
    	</rich:dataTable>
					
					<rich:dataTable width="700" border="0" var="alunoTurma" 
    value="#{turmasMatriculadasBean.getDisciplinasOrdenadas(alunoDAO.getAlunos(usuarioBean.usuario.aluno.matricula))}" cellpadding="0" cellspacing="0" >
    	<f:facet name="header">
    		<rich:columnGroup >
    			<rich:column colspan="7">
                	<h:outputText value="Disciplinas Optativas" />
                </rich:column>
	            <rich:column breakBefore="true">
	                <h:outputText value="Codigo" />
	            </rich:column>
	            <rich:column>
	                <h:outputText value="Disciplina" />
	            </rich:column>
	            <rich:column>
	                <h:outputText value="CR" />
	            </rich:column>
	           	<rich:column>
	                <h:outputText value="CH" />
	            </rich:column>
	            <rich:column>
	                <h:outputText value="Periodo" />
	            </rich:column>
	            <rich:column>
	                <h:outputText value="Media" />
	            </rich:column>
	            <rich:column>
	                <h:outputText value="Situacao" />
	            </rich:column>
    		</rich:columnGroup>
    	</f:facet>
    	<rich:column  style="vertical-align: middle; text-align: center" >
    		<h:outputText value="#{alunoTurma.turma.disciplina.codigo}" />
    	</rich:column>
    	<rich:column style="vertical-align: middle; text-align: center" >
    		<h:outputText value="#{alunoTurma.turma.disciplina.nome}" />
    	</rich:column>
    	<rich:column style="vertical-align: middle; text-align: center" >
    		<h:outputText value="#{alunoTurma.turma.disciplina.creditos}" />
    	</rich:column>
    	<rich:column style="vertical-align: middle; text-align: center" >
    		<h:outputText value="#{turmasMatriculadasBean.cargaHoraria(alunoTurma.turma.disciplina.creditos)}"/>
    	</rich:column>
    	<rich:column style="vertical-align: middle; text-align: center" >
    		<h:outputText value="#{alunoTurma.turma.periodo.ano} #{alunoTurma.turma.periodo.semestre}" />
    	</rich:column>
    	<rich:column style="vertical-align: middle; text-align: center" >
	    		<h:outputText value="#{turmasMatriculadasBean.geraMedia(alunoTurma)}"/> <br/>	    	
    	</rich:column>
    	<rich:column  style="vertical-align: middle; text-align: center" >
    			<h:outputText value="#{alunoTurma.situacao} "/> <br/>
    	</rich:column>
    	
    	</rich:dataTable>
    	
    	<rich:dataTable width="700" border="0" var="alunoTurma"  
    value="#{turmasMatriculadasBean.getDisciplinasOrdenadas(alunoDAO.getAlunos(usuarioBean.usuario.aluno.matricula))}" cellpadding="0" cellspacing="0" >
    	<f:facet name="header">
    		<rich:columnGroup >
    			<rich:column colspan="7">
                	<h:outputText value="Disciplinas Complementares" />
                </rich:column>
	            <rich:column breakBefore="true">
	                <h:outputText value="Codigo" />
	            </rich:column>
	            <rich:column>
	                <h:outputText value="Disciplina" />
	            </rich:column>
	            <rich:column>
	                <h:outputText value="CR" />
	            </rich:column>
	           	<rich:column>
	                <h:outputText value="CH" />
	            </rich:column>
	            <rich:column>
	                <h:outputText value="Periodo" />
	            </rich:column>
	            <rich:column>
	                <h:outputText value="Media" />
	            </rich:column>
	            <rich:column>
	                <h:outputText value="Situacao" />
	            </rich:column>
    		</rich:columnGroup>
    	</f:facet>
    	<rich:column  style="vertical-align: middle; text-align: center" >
    		<h:outputText value="#{alunoTurma.turma.disciplina.codigo}" />
    	</rich:column>
    	<rich:column style="vertical-align: middle; text-align: center" >
    		<h:outputText value="#{alunoTurma.turma.disciplina.nome}" />
    	</rich:column>
    	<rich:column style="vertical-align: middle; text-align: center" >
    		<h:outputText value="#{alunoTurma.turma.disciplina.creditos}" />
    	</rich:column>
    	<rich:column style="vertical-align: middle; text-align: center" >
    		<h:outputText value="#{turmasMatriculadasBean.cargaHoraria(alunoTurma.turma.disciplina.creditos)}"/>
    	</rich:column>
    	<rich:column style="vertical-align: middle; text-align: center" >
    		<h:outputText value="#{alunoTurma.turma.periodo.ano} #{alunoTurma.turma.periodo.semestre}" />
    	</rich:column>
    	<rich:column style="vertical-align: middle; text-align: center" >
	    		<h:outputText value="#{turmasMatriculadasBean.geraMedia(alunoTurma)}"/> <br/>	    	
    	</rich:column>
    	<rich:column  style="vertical-align: middle; text-align: center" >
    			<h:outputText value="#{alunoTurma.situacao} "/> <br/>
    	</rich:column>
    	
    	</rich:dataTable>
    	
    	<rich:dataTable width="700" border="0"  cellpadding="0" cellspacing="0" >
    	<f:facet name="header">
    		<rich:columnGroup >
    			<rich:column colspan="4">
                	<h:outputText value="Dados inerentes a integralizacao curricular" />
                </rich:column>
	            <rich:column breakBefore="true">
	                <rich:spacer width="96px"/>
	            </rich:column>
	            <rich:column width="220" >
	                <h:outputText value="Carga Horaria" />
	            </rich:column>
	            <rich:column>
	                <h:outputText value="Creditos" />
	            </rich:column>
	           	<rich:column>
	                <h:outputText value="Disciplinas" />
	            </rich:column>
	       </rich:columnGroup>
	       </f:facet>
	       </rich:dataTable>

	       <rich:dataTable width="700" border="0"  cellpadding="0" cellspacing="0" >
    		<f:facet name="header">
    		<rich:columnGroup >    
	            <rich:column>
	                <h:outputText value="Integralizacao Curricular" />
	            </rich:column>
	            <rich:column>
	                <h:outputText value="Minimo" />
	            </rich:column>
	            <rich:column>
	                <h:outputText value="Integr." />
	            </rich:column>
	            <rich:column>
	                <h:outputText value="Minimo" />
	            </rich:column>
	            <rich:column>
	                <h:outputText value="Integr." />
	            </rich:column>
	            <rich:column>
	                <h:outputText value="Minimo" />
	            </rich:column>
	            <rich:column>
	                <h:outputText value="Integr." />
	            </rich:column>
    		</rich:columnGroup>
    	</f:facet>
    	
    	<rich:subTable>
    	<rich:column  style="vertical-align: middle; text-align: center" >
    		<h:outputText value="Disciplinas Obrigatorias" />
    	</rich:column>
    	<rich:column style="vertical-align: middle; text-align: center" >
    		<h:outputText value="#{turmasMatriculadasBean.cargaHoraria(fachada.aluno.curriculo.minimoCreditosCurriculo)}" />
    	</rich:column>
    	<rich:column style="vertical-align: middle; text-align: center" >
    		<h:outputText value="#{turmasMatriculadasBean.cargaHoraria(turmasMatriculadasBean.geraCreditosIntegralizados())}" />
    	</rich:column>
    	<rich:column style="vertical-align: middle; text-align: center" >
    		<h:outputText value="#{fachada.aluno.curriculo.minimoCreditosCurriculo}"/>
    	</rich:column>
    	<rich:column  style="vertical-align: middle; text-align: center" >
    		<h:outputText value="#{turmasMatriculadasBean.geraCreditosIntegralizados()}" />
    	</rich:column>
    	<rich:column style="vertical-align: middle; text-align: center" >
    		<h:outputText value="#{fachada.aluno.curriculo.minimoDisciplinas}" />
    	</rich:column>
    	<rich:column style="vertical-align: middle; text-align: center" >
    		<h:outputText value="#{turmasMatriculadasBean.alunoTurmas.size()}" />
    	</rich:column>
    	</rich:subTable>    	
    	</rich:dataTable>
    	<h:outputText value="Disciplinas Obrigatorias......#{turmasMatriculadasBean.cargaHoraria(fachada.aluno.curriculo.minimoCreditosCurriculo)}
										#{turmasMatriculadasBean.cargaHoraria(turmasMatriculadasBean.geraCreditosIntegralizados())}
										#{fachada.aluno.curriculo.minimoCreditosCurriculo}
										#{turmasMatriculadasBean.geraCreditosIntegralizados()} 
										#{fachada.aluno.curriculo.minimoDisciplinas} #{turmasMatriculadasBean.alunoTurmas.size()}"/>
					<br/>
					<h:outputText value="Disciplinas Optativas........." />
					<br/>
					<h:outputText value="Disciplinas Complementares........." />
					<br/>
					<h:outputText value="TOTAIS DO CURRICULO =========>#{turmasMatriculadasBean.cargaHoraria(fachada.aluno.curriculo.minimoCreditosCurriculo)}
										#{turmasMatriculadasBean.cargaHoraria(turmasMatriculadasBean.geraCreditosIntegralizados())}
										#{fachada.aluno.curriculo.minimoCreditosCurriculo}
										#{turmasMatriculadasBean.geraCreditosIntegralizados()} 
										#{fachada.aluno.curriculo.minimoDisciplinas} #{turmasMatriculadasBean.alunoTurmas.size()}" />
					<br/>
					<h:outputText value="Disciplinas Extra-Curriculares" />
					<br/>
					<h:outputText value="---------------------------------------------------------------------------" />
					<br/>
					<h:outputText value="Numero de semestres cursados.. #{turmasMatriculadasBean.geraSemestresCursados(turmasMatriculadasBean.getDisciplinasOrdenadas(alunoDAO.getAlunos(usuarioBean.usuario.aluno.matricula)))}   (Minimo: #{fachada.aluno.curriculo.minimoSemestres} , Maximo: #{fachada.aluno.curriculo.maximoSemestres}) de  ativos" />
					<br/>
					<h:outputText value="Trancamentos Totais efetuados.   #{turmasMatriculadasBean.geraTrancamentosTotais(turmasMatriculadasBean.getDisciplinasOrdenadas(alunoDAO.getAlunos(usuarioBean.usuario.aluno.matricula)))} (Max:#{fachada.aluno.curriculo.trancamentosTotais}  sem)" />
					<br/>	
					<h:outputText value="Matriculas Institucionais ....    (Max:#{fachada.aluno.curriculo.matriculaInstitucional}  sem)" />
					<br/>
					<h:outputText value="Trancamentos Parciais efetuad. #{turmasMatriculadasBean.geraTrancamentosParciais()}
							 (Minimo: --, Maximo:#{fachada.aluno.curriculo.maximoTrancamentosParciais}  )" />
					<br/>
					<h:outputText value="Matriculado atualmente em ....    #{turmasMatriculadasBean.geraCreditosIntegralizados()}
										 Creditos (Minimo: #{fachada.aluno.curriculo.minimoCreditos}  , 
										 Maximo: #{fachada.aluno.curriculo.maximoCreditos}  )" />
					<br/>
					<h:outputText value="---------------------------------------------------------------------------" />
					<br/>
					<h:outputText value="Situacao academica............#{fachada.aluno.situacaoAcademica}   CRE: " />
					<h:outputText value="#{turmasMatriculadasBean.geraCRE()}">
						<f:convertNumber maxFractionDigits="2" minFractionDigits="2"
									locale="pt_BR" />
					</h:outputText>
					<br/>
					<h:outputText value="Forma de ingresso.............#{fachada.aluno.formaIngresso}
						(em #{turmasMatriculadasBean.getDisciplinasOrdenadas(alunoDAO.getAlunos(usuarioBean.usuario.aluno.matricula)).get(0).turma.periodo.ano} 
						#{turmasMatriculadasBean.getDisciplinasOrdenadas(alunoDAO.getAlunos(usuarioBean.usuario.aluno.matricula)).get(0).turma.periodo.semestre})" />
					<br/>
					<h:outputText value="----------------------- PROVAS E NOTAS DO VESTIBULAR ----------------------" />	
					<br/>
					<h:outputText value="---------------------------------------------------------------------------" />
					<br/>
					<h:outputText value="A MATRICULA E OBRIGATORIA EM TODO PERIODO LETIVO, EVITE SITUACAO DE ABANDONO" />
					<br/><br/>
					<h:outputText value="HISTORICO EMITIDO PARA SIMPLES CONFERENCIA. NAO VALE COMO DOCUMENTO OFICIAL" />

					<center>
    					<a4j:commandButton action="#{turmasMatriculadasBean.exportarHistoricoPDF()}" value="Gerar PDF" />
    				</center>


    				<br/><br/><br/><br/>
					<h:outputText value="CODIGO   NOME DA DISCIPLINA                           CR CH. PERIODO MEDIA SITUACAO"/>
					<br/>
					<h:outputText value="============================   DISCIPLINAS OBRIGATORIAS  =========================="/>
					<br/>
					<ui:repeat value="#{turmasMatriculadasBean.getDisciplinasOrdenadas(alunoDAO.getAlunos(usuarioBean.usuario.aluno.matricula))}"
						var="alunoTurma">
							
							<h:outputText rendered="#{turmasMatriculadasBean.isDisciplinaObrigatoria(alunoTurma.turma.disciplina)}" value="#{alunoTurma.turma.disciplina.codigo} #{alunoTurma.turma.disciplina.nome} 
							#{alunoTurma.turma.disciplina.creditos} 
							#{turmasMatriculadasBean.cargaHoraria(alunoTurma.turma.disciplina.creditos)} 
							#{alunoTurma.turma.periodo.ano} #{alunoTurma.turma.periodo.semestre}
							#{turmasMatriculadasBean.geraMedia(alunoTurma)} #{alunoTurma.situacao} " />
							<br />
						
					</ui:repeat>
					<h:outputText value="============================   DISCIPLINAS OPTATIVAS  =========================="/>
					<br/>
					<ui:repeat value="#{turmasMatriculadasBean.getDisciplinasOrdenadas(alunoDAO.getAlunos(usuarioBean.usuario.aluno.matricula))}"
						var="alunoTurma">
							
							<h:outputText rendered="#{turmasMatriculadasBean.isDisciplinaOptativa(alunoTurma.turma.disciplina)}" value="#{alunoTurma.turma.disciplina.codigo} #{alunoTurma.turma.disciplina.nome} 
							#{alunoTurma.turma.disciplina.creditos} 
							#{turmasMatriculadasBean.cargaHoraria(alunoTurma.turma.disciplina.creditos)} 
							#{alunoTurma.turma.periodo.ano} #{alunoTurma.turma.periodo.semestre}
							#{turmasMatriculadasBean.geraMedia(alunoTurma)} #{alunoTurma.situacao} " />
							<br />
						
					</ui:repeat>
					<h:outputText value="============================   DISCIPLINAS COMPLEMENTARES  =========================="/>
					<br/>
					<ui:repeat value="#{turmasMatriculadasBean.getDisciplinasOrdenadas(alunoDAO.getAlunos(usuarioBean.usuario.aluno.matricula))}"
						var="alunoTurma">
							
							<h:outputText rendered="#{turmasMatriculadasBean.isDisciplinaComplementar(alunoTurma.turma.disciplina)}" value="#{alunoTurma.turma.disciplina.codigo} #{alunoTurma.turma.disciplina.nome} 
							#{alunoTurma.turma.disciplina.creditos} 
							#{turmasMatriculadasBean.cargaHoraria(alunoTurma.turma.disciplina.creditos)} 
							#{alunoTurma.turma.periodo.ano} #{alunoTurma.turma.periodo.semestre}
							#{turmasMatriculadasBean.geraMedia(alunoTurma)} #{alunoTurma.situacao} " />
							<br />
						
					</ui:repeat>
					
					<h:outputText value="==============================================================================="/>
					<br/>
					<h:outputText value="DADOS INERENTES A INTEGRALIZACAO CURRICULAR"/>
					<br/>
					<h:outputText value="-CARGA HORARIA-  ---CREDITOS---  -DISCIPLINAS-"/>
					<br/>
					<h:outputText value="INTEGRALIZACAO CURRICULAR     Minimo Integr.  Minima Integr.  Minimo Integr"/>
					<br/>
					<h:outputText value="---------------------------------------------------------------------------"/>
					<br/>
					</rich:panel>
</ui:composition>